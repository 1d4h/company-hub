# ğŸ”” Web Push ì•Œë¦¼ ì‹œìŠ¤í…œ ì™„ë£Œ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
**ë²„ì „**: v1.5-web-push-notification  
**ì‘ì„±ì¼**: 2026-02-08  
**ê³µê°œ URL**: https://3000-i76on73jhx68e3lvjdosj-02b9cc79.sandbox.novita.ai

## âœ¨ ìƒˆë¡œìš´ ê¸°ëŠ¥

### 1. **ë¸Œë¼ìš°ì € í‘¸ì‹œ ì•Œë¦¼ (Web Push Notification)**
- **ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìì—ê²Œë„ ì•Œë¦¼ ì „ì†¡** âœ…
- **ì•±ì´ ë‹«í˜€ ìˆì–´ë„ ë¸Œë¼ìš°ì € í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹ ** âœ…
- **Service Worker ê¸°ë°˜ ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼** âœ…
- **VAPID í”„ë¡œí† ì½œ ì‚¬ìš© (ë³´ì•ˆ ê°•í™”)** âœ…

### 2. **ìë™ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­**
- ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ìë™ìœ¼ë¡œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„±ê³µ ì‹œì—ë„ ë™ì¼í•˜ê²Œ ì ìš©
- ê¶Œí•œ ìƒíƒœë¥¼ í—¤ë”ì— ì•„ì´ì½˜ìœ¼ë¡œ í‘œì‹œ

### 3. **í‘¸ì‹œ êµ¬ë… ê´€ë¦¬**
- ì‚¬ìš©ìë³„ í‘¸ì‹œ êµ¬ë… ì •ë³´ ìë™ ì €ì¥
- ë§Œë£Œëœ êµ¬ë… ìë™ ì‚­ì œ
- ë‹¤ì¤‘ ê¸°ê¸° ì§€ì› (ë™ì¼ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ë¸Œë¼ìš°ì €/ê¸°ê¸°ì—ì„œ ë¡œê·¸ì¸ ê°€ëŠ¥)

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì A                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  ë¸Œë¼ìš°ì € 1  â”‚         â”‚  ë¸Œë¼ìš°ì € 2  â”‚                   â”‚
â”‚  â”‚  (ë¡œê·¸ì¸)   â”‚         â”‚  (ë¡œê·¸ì•„ì›ƒ)  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚         â”‚                       â”‚                          â”‚
â”‚         â”‚ í‘¸ì‹œ êµ¬ë… ë“±ë¡          â”‚ í‘¸ì‹œ êµ¬ë… ë“±ë¡            â”‚
â”‚         â–¼                       â–¼                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                       â”‚
          â”‚        API Call       â”‚
          â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Node.js Server                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  /api/push/subscribe                               â”‚    â”‚
â”‚  â”‚  - í‘¸ì‹œ êµ¬ë… ì •ë³´ ì €ì¥ (Supabase)                   â”‚    â”‚
â”‚  â”‚  - endpoint, p256dh, auth í‚¤ ì €ì¥                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  /api/customers/as-result                          â”‚    â”‚
â”‚  â”‚  - A/S ì™„ë£Œ ì‹œ ëª¨ë“  êµ¬ë…ì— í‘¸ì‹œ ì „ì†¡                 â”‚    â”‚
â”‚  â”‚  - Web Push API ì‚¬ìš© (webpush ë¼ì´ë¸ŒëŸ¬ë¦¬)           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ Push Notification
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Push Service (FCM/APNs)                    â”‚
â”‚               (Google, Apple, Mozilla ë“±)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ ë¸Œë¼ìš°ì € í‘¸ì‹œ ì „ì†¡
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ì‚¬ìš©ì A - ë¸Œë¼ìš°ì € 1, 2                       â”‚
â”‚              (ë¡œê·¸ì¸ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì•Œë¦¼ ìˆ˜ì‹ )                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ğŸ“¢ A/S ì‘ì—… ì™„ë£Œ                                 â”‚      â”‚
â”‚  â”‚  user1ë‹˜ì´ "í™ê¸¸ë™" ê³ ê°ì˜ A/S ì‘ì—…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### **push_subscriptions í…Œì´ë¸”**

```sql
CREATE TABLE public.push_subscriptions (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT REFERENCES public.users(id) ON DELETE CASCADE,
  endpoint TEXT NOT NULL UNIQUE,        -- Push ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ URL
  p256dh TEXT NOT NULL,                 -- ê³µê°œí‚¤ (ì•”í˜¸í™”ìš©)
  auth TEXT NOT NULL,                   -- ì¸ì¦ ì‹œí¬ë¦¿
  user_agent TEXT,                      -- ë¸Œë¼ìš°ì € User Agent
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  last_used_at TIMESTAMPTZ              -- ë§ˆì§€ë§‰ í‘¸ì‹œ ì „ì†¡ ì‹œê°
);
```

### **ì¸ë±ìŠ¤**
```sql
CREATE INDEX idx_push_subscriptions_user_id ON push_subscriptions(user_id);
CREATE INDEX idx_push_subscriptions_endpoint ON push_subscriptions(endpoint);
```

---

## ğŸ”§ ì£¼ìš” êµ¬í˜„ ì‚¬í•­

### 1. **Service Worker ë“±ë¡** (`/public/service-worker.js`)

```javascript
self.addEventListener('push', (event) => {
  const data = event.data.json()
  
  const options = {
    body: data.body,
    icon: data.icon || '/static/icon-192.png',
    badge: data.badge || '/static/badge-96.png',
    tag: data.tag || 'notification',
    requireInteraction: false,
    data: data.data
  }
  
  event.waitUntil(
    self.registration.showNotification(data.title, options)
  )
})
```

### 2. **í‘¸ì‹œ êµ¬ë… ìƒì„±** (`app.js`)

```javascript
async function subscribeToPushNotifications() {
  const registration = await registerServiceWorker()
  const subscription = await registration.pushManager.subscribe({
    userVisibleOnly: true,
    applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)
  })
  
  await axios.post('/api/push/subscribe', {
    userId: state.currentUser.id,
    subscription: subscription.toJSON()
  })
}
```

### 3. **A/S ì™„ë£Œ ì‹œ í‘¸ì‹œ ì „ì†¡** (`server.js`)

```javascript
// ëª¨ë“  êµ¬ë… ì •ë³´ ì¡°íšŒ
const { data: subscriptions } = await supabase
  .from('push_subscriptions')
  .select('*')

// ê° êµ¬ë…ì— í‘¸ì‹œ ì „ì†¡
for (const sub of subscriptions) {
  const pushSubscription = {
    endpoint: sub.endpoint,
    keys: { p256dh: sub.p256dh, auth: sub.auth }
  }
  
  await webpush.sendNotification(pushSubscription, pushPayload)
}
```

---

## ğŸš€ ë°°í¬ ë° ì„¤ì •

### 1. **Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰**

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìœ„ì¹˜
migrations/0005_add_push_subscriptions.sql
```

**Supabase SQL Editor**ì—ì„œ ì‹¤í–‰:
```sql
-- 0005_add_push_subscriptions.sql íŒŒì¼ ë‚´ìš© ì „ì²´ ë³µì‚¬ í›„ ì‹¤í–‰
```

### 2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

`.env` íŒŒì¼ì— ì¶”ê°€:
```bash
# Web Push VAPID Keys
VAPID_PUBLIC_KEY=BDcmjpnrU8UgS0gxQ25ffysA5cAQxNHrd4R3BiLrZU-cOAnOGQLV9sTEAmEkNOag_Y7wa3wYBkDwtuJxPhjr_EY
VAPID_PRIVATE_KEY=Rb5sTxsncydQHZw4l7buwC0MZzP2gUDJEm-TRvrCrbo
VAPID_EMAIL=mailto:admin@example.com
```

**ìƒˆë¡œìš´ VAPID í‚¤ ìƒì„± ë°©ë²•:**
```bash
npx web-push generate-vapid-keys
```

### 3. **ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
npm install web-push --save
```

### 4. **ì„œë²„ ì¬ì‹œì‘**

```bash
pm2 restart webapp
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### **ì‹œë‚˜ë¦¬ì˜¤ 1: ë¡œê·¸ì¸ ì‚¬ìš©ì ì•Œë¦¼ ìˆ˜ì‹ **

1. **ì‚¬ìš©ì A ë¡œê·¸ì¸** (ë¸Œë¼ìš°ì € 1)
   - ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ íŒì—… í‘œì‹œ
   - "í—ˆìš©" í´ë¦­
   - í‘¸ì‹œ êµ¬ë… ìë™ ìƒì„± ë° ì„œë²„ ì €ì¥

2. **ì‚¬ìš©ì B ë¡œê·¸ì¸** (ë¸Œë¼ìš°ì € 2)
   - A/S ê²°ê³¼ ì…ë ¥ í›„ "ì™„ë£Œ" í´ë¦­

3. **ì‚¬ìš©ì A ì•Œë¦¼ ìˆ˜ì‹ ** âœ…
   - ë¸Œë¼ìš°ì € 1ì— í‘¸ì‹œ ì•Œë¦¼ í‘œì‹œ
   - "ğŸ“¢ A/S ì‘ì—… ì™„ë£Œ"
   - "user2ë‹˜ì´ 'í™ê¸¸ë™' ê³ ê°ì˜ A/S ì‘ì—…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤."

---

### **ì‹œë‚˜ë¦¬ì˜¤ 2: ë¡œê·¸ì•„ì›ƒ ì‚¬ìš©ì ì•Œë¦¼ ìˆ˜ì‹ ** (í•µì‹¬ ê¸°ëŠ¥ âœ…)

1. **ì‚¬ìš©ì A ë¡œê·¸ì¸ â†’ ë¡œê·¸ì•„ì›ƒ** (ë¸Œë¼ìš°ì € 1)
   - ë¡œê·¸ì¸ ì‹œ í‘¸ì‹œ êµ¬ë…ì´ ì„œë²„ì— ì €ì¥ë¨
   - ë¡œê·¸ì•„ì›ƒ í›„ ì•± ë‹«ê¸°

2. **ì‚¬ìš©ì B ë¡œê·¸ì¸** (ë¸Œë¼ìš°ì € 2)
   - A/S ê²°ê³¼ ì…ë ¥ í›„ "ì™„ë£Œ" í´ë¦­

3. **ì‚¬ìš©ì A ì•Œë¦¼ ìˆ˜ì‹ ** âœ…
   - **ì•±ì´ ë‹«í˜€ ìˆì–´ë„** ë¸Œë¼ìš°ì € í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹ 
   - **ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—¬ë„** í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹ 
   - "ğŸ“¢ A/S ì‘ì—… ì™„ë£Œ"

---

### **ì‹œë‚˜ë¦¬ì˜¤ 3: ë‹¤ì¤‘ ê¸°ê¸° ì•Œë¦¼**

1. **ì‚¬ìš©ì A**ê°€ **PC ë¸Œë¼ìš°ì €**ì—ì„œ ë¡œê·¸ì¸
2. **ì‚¬ìš©ì A**ê°€ **ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €**ì—ì„œ ë¡œê·¸ì¸
3. **ì‚¬ìš©ì B**ê°€ A/S ì™„ë£Œ
4. **ì‚¬ìš©ì A**ì˜ **PCì™€ ëª¨ë°”ì¼ ëª¨ë‘**ì—ì„œ ì•Œë¦¼ ìˆ˜ì‹  âœ…

---

## ğŸ“± ì•Œë¦¼ ê¶Œí•œ ìƒíƒœ ì•„ì´ì½˜

í—¤ë” ì˜¤ë¥¸ìª½ì— ì•Œë¦¼ ê¶Œí•œ ìƒíƒœê°€ í‘œì‹œë©ë‹ˆë‹¤:

| ì•„ì´ì½˜ | ìƒíƒœ | ì„¤ëª… |
|-------|------|------|
| ğŸ”” (ë…¹ìƒ‰) | í—ˆìš©ë¨ | ë¸Œë¼ìš°ì € ì•Œë¦¼ì´ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤ |
| ğŸ”” (ë…¸ë€ìƒ‰) | ëŒ€ê¸° ì¤‘ | ë¸Œë¼ìš°ì € ì•Œë¦¼ì„ í™œì„±í™”í•˜ë ¤ë©´ í´ë¦­í•˜ì„¸ìš” |
| ğŸ”• (ë¹¨ê°„ìƒ‰) | ì°¨ë‹¨ë¨ | ë¸Œë¼ìš°ì € ì•Œë¦¼ì´ ì°¨ë‹¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤ |
| ğŸ”• (íšŒìƒ‰) | ë¯¸ì§€ì› | ë¸Œë¼ìš°ì €ê°€ ì•Œë¦¼ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ |

---

## ğŸ› ï¸ API ì—”ë“œí¬ì¸íŠ¸

### **POST /api/push/subscribe**
í‘¸ì‹œ êµ¬ë… ì •ë³´ ì €ì¥

**Request:**
```json
{
  "userId": 1,
  "subscription": {
    "endpoint": "https://fcm.googleapis.com/fcm/send/...",
    "keys": {
      "p256dh": "...",
      "auth": "..."
    }
  }
}
```

**Response:**
```json
{
  "success": true
}
```

---

### **GET /api/push/subscriptions?userId=1**
ì‚¬ìš©ìì˜ ëª¨ë“  í‘¸ì‹œ êµ¬ë… ì¡°íšŒ

**Response:**
```json
{
  "success": true,
  "subscriptions": [
    {
      "id": 1,
      "user_id": 1,
      "endpoint": "...",
      "p256dh": "...",
      "auth": "...",
      "user_agent": "Mozilla/5.0...",
      "created_at": "2026-02-08T10:00:00Z",
      "last_used_at": "2026-02-08T11:30:00Z"
    }
  ]
}
```

---

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. **VAPID í”„ë¡œí† ì½œ ì‚¬ìš©**
- ê³µê°œí‚¤/ê°œì¸í‚¤ ìŒìœ¼ë¡œ í‘¸ì‹œ ë©”ì‹œì§€ ì„œëª…
- í‘¸ì‹œ ì„œë¹„ìŠ¤ê°€ ë°œì‹ ìë¥¼ ê²€ì¦
- ë¬´ë‹¨ í‘¸ì‹œ ì „ì†¡ ë°©ì§€

### 2. **Supabase RLS (Row Level Security)**
- ì‚¬ìš©ìëŠ” ìì‹ ì˜ êµ¬ë… ì •ë³´ë§Œ ì¡°íšŒ/ìˆ˜ì • ê°€ëŠ¥
- ë‹¤ë¥¸ ì‚¬ìš©ìì˜ êµ¬ë… ì •ë³´ ì ‘ê·¼ ì°¨ë‹¨

### 3. **HTTPS í•„ìˆ˜**
- Service WorkerëŠ” HTTPSì—ì„œë§Œ ì‘ë™
- ê°œë°œ í™˜ê²½ì—ì„œëŠ” localhost í—ˆìš©

---

## ğŸ“ ì£¼ìš” ë³€ê²½ íŒŒì¼

### **ì¶”ê°€ëœ íŒŒì¼**
- `migrations/0005_add_push_subscriptions.sql` - í‘¸ì‹œ êµ¬ë… í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
- `public/service-worker.js` - Service Worker (ì´ë¯¸ ì¡´ì¬)
- `WEB_PUSH_NOTIFICATION_COMPLETE.md` - ë³¸ ë¬¸ì„œ

### **ìˆ˜ì •ëœ íŒŒì¼**
- `server.js` - Web Push ì „ì†¡ ë¡œì§, /api/push/* ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- `public/static/app.js` - í‘¸ì‹œ êµ¬ë… ìƒì„±, ë¡œê·¸ì¸ ì‹œ ìë™ ê¶Œí•œ ìš”ì²­
- `.env.example` - VAPID í‚¤ ì¶”ê°€
- `package.json` - web-push ì˜ì¡´ì„± ì¶”ê°€

---

## ğŸ¯ í–¥í›„ ê°œì„  ì‚¬í•­

1. **ì•Œë¦¼ ì„¼í„°**
   - ìˆ˜ì‹ í•œ ì•Œë¦¼ ì´ë ¥ ì¡°íšŒ
   - ì½ì§€ ì•Šì€ ì•Œë¦¼ ë°°ì§€ í‘œì‹œ

2. **ì•Œë¦¼ ì„¤ì •**
   - ì•Œë¦¼ íƒ€ì…ë³„ on/off ì„¤ì •
   - ì•Œë¦¼ ìˆ˜ì‹  ì‹œê°„ëŒ€ ì„¤ì •
   - ë°©í•´ ê¸ˆì§€ ëª¨ë“œ

3. **ë¦¬ì¹˜ ì•Œë¦¼ (Rich Notifications)**
   - ì•Œë¦¼ì— ì•¡ì…˜ ë²„íŠ¼ ì¶”ê°€ ("í™•ì¸", "ë¬´ì‹œ" ë“±)
   - ì•Œë¦¼ ì´ë¯¸ì§€ ì²¨ë¶€
   - ì§„ë™ íŒ¨í„´ ì„¤ì •

4. **í†µê³„ ë° ë¶„ì„**
   - ì•Œë¦¼ ì „ì†¡ ì„±ê³µë¥ 
   - ì•Œë¦¼ í´ë¦­ë¥ 
   - ì‚¬ìš©ìë³„ ì•Œë¦¼ ìˆ˜ì‹  í˜„í™©

---

## ğŸ“– ì°¸ê³  ë¬¸ì„œ

- [Web Push Protocol (RFC 8030)](https://tools.ietf.org/html/rfc8030)
- [VAPID Protocol (RFC 8292)](https://tools.ietf.org/html/rfc8292)
- [web-push ë¼ì´ë¸ŒëŸ¬ë¦¬](https://github.com/web-push-libs/web-push)
- [MDN - Push API](https://developer.mozilla.org/en-US/docs/Web/API/Push_API)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Service Worker ë“±ë¡ ë¡œì§ ì¶”ê°€
- [x] í‘¸ì‹œ êµ¬ë… ìƒì„± ë° ì„œë²„ ì €ì¥
- [x] ë°±ì—”ë“œ /api/push/subscribe ì—”ë“œí¬ì¸íŠ¸
- [x] A/S ì™„ë£Œ ì‹œ Web Push ì „ì†¡
- [x] Supabase push_subscriptions í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] ë¡œê·¸ì¸ ì‹œ ìë™ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
- [x] ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œ ìë™ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
- [x] ì•Œë¦¼ ê¶Œí•œ ìƒíƒœ ì•„ì´ì½˜ í‘œì‹œ
- [x] ë§Œë£Œëœ êµ¬ë… ìë™ ì‚­ì œ
- [x] ë‹¤ì¤‘ ê¸°ê¸° ì§€ì›
- [x] VAPID í‚¤ ìƒì„± ë° ì„¤ì •
- [x] í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œ ì‘ì„±

---

## ğŸ‰ ê²°ë¡ 

**ëª¨ë“  ì‚¬ìš©ì(ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ìƒê´€ì—†ì´)ì—ê²Œ A/S ì™„ë£Œ ì•Œë¦¼ì´ ë¸Œë¼ìš°ì € í‘¸ì‹œë¡œ ì „ì†¡ë©ë‹ˆë‹¤!**

- âœ… ì•±ì´ ë‹«í˜€ ìˆì–´ë„ ì•Œë¦¼ ìˆ˜ì‹ 
- âœ… ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ë„ ì•Œë¦¼ ìˆ˜ì‹ 
- âœ… ì—¬ëŸ¬ ê¸°ê¸°ì—ì„œ ë™ì‹œ ì•Œë¦¼ ìˆ˜ì‹ 
- âœ… ë³´ì•ˆ ê°•í™” (VAPID í”„ë¡œí† ì½œ)
- âœ… ìë™ í‘¸ì‹œ êµ¬ë… ê´€ë¦¬

**ë²„ì „**: v1.5-web-push-notification  
**ê³µê°œ URL**: https://3000-i76on73jhx68e3lvjdosj-02b9cc79.sandbox.novita.ai  
**ì™„ë£Œì¼**: 2026-02-08
